/* Summary Page Theme Mapping (rely on global Dashboard theme vars) */
/* Dark theme overrides */
html[data-theme='dark'] .summary-page { 
  --summary-brandA:#38bdf8; 
  --summary-brandB:#34d399; 
  --summary-brandC:#8b5cf6; 
  --summary-surface-grad:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
  --summary-card-bg:rgba(255,255,255,0.06);
  --summary-card-border:rgba(255,255,255,0.12);
  --summary-chip-bg:rgba(255,255,255,0.08);
  --summary-chip-border:rgba(255,255,255,0.16);
  --summary-glow:0 10px 35px rgba(56,189,248,0.25),0 2px 15px rgba(0,0,0,0.45);
}
/* Light theme overrides */
html[data-theme='light'] .summary-page { 
  --summary-brandA:#0ea5e9; 
  --summary-brandB:#10b981; 
  --summary-brandC:#6366f1; 
  --summary-surface-grad:linear-gradient(180deg,rgba(0,0,0,.04),rgba(0,0,0,.02));
  --summary-card-bg:rgba(0,0,0,0.035);
  --summary-card-border:rgba(0,0,0,0.10);
  --summary-chip-bg:rgba(0,0,0,0.05);
  --summary-chip-border:rgba(0,0,0,0.14);
  --summary-glow:0 10px 30px -8px rgba(14,165,233,0.30),0 2px 12px rgba(0,0,0,0.12);
}
/* Shared radii */
:root { --radius:18px; --radiusSm:12px; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

.summary-page {
  padding:120px clamp(24px,4.2vw,56px);
  color:var(--text-color);
  background:
    radial-gradient(1200px 600px at 18% -8%, rgba(var(--accent-rgb),0.28), transparent 62%),
    radial-gradient(1000px 520px at 88% 8%, rgba(99,102,241,0.18), transparent 55%),
    var(--bg);
  transition:background .5s ease,color .4s ease;
}
html[data-theme='light'] .summary-page {
  background:
    radial-gradient(1200px 600px at 18% -8%, rgba(var(--accent-rgb),0.20), transparent 62%),
    radial-gradient(1000px 520px at 88% 8%, rgba(99,102,241,0.12), transparent 55%),
    var(--bg);
}

/* ---------------- Hero ---------------- */
.hero { position:relative; border:1px solid var(--summary-card-border); border-radius:calc(var(--radius) + 6px); padding:clamp(22px,3.2vw,36px); background:var(--summary-surface-grad); box-shadow:var(--summary-glow); overflow:hidden; }

.hero-bg .hero-dot {
  position: absolute;
  width: 220px; height: 220px;
  border-radius: 50%;
  filter: blur(38px);
  opacity: 0.45;
  mix-blend-mode: screen;
}
.hero-bg .hero-dot.a { background: var(--summary-brandA); top:-60px; left:-40px; }
.hero-bg .hero-dot.b { background: var(--summary-brandB); top:-40px; right:0; }
.hero-bg .hero-dot.c { background: var(--summary-brandC); bottom:-80px; left:30%; }

.hero-head {
  position: relative;
  z-index: 1;
}

.hero h1 {
  margin: 0 0 8px 0;
  font-size: clamp(1.9rem, 3.8vw, 3rem);
  letter-spacing: 0.2px;
}

.hero .summary-intro { font-size:clamp(0.98rem,1.05vw,1.06rem); line-height:1.7; max-width:980px; color:var(--muted-text); margin:8px 0 16px 0; }

.hero-icon { width:40px; height:40px; display:grid; place-items:center; color:#0b1120; background:linear-gradient(135deg,var(--summary-brandA),var(--summary-brandB)); border-radius:10px; margin-bottom:8px; box-shadow:0 8px 26px rgba(var(--accent-rgb),0.35); }
html[data-theme='light'] .hero-icon { color:#0b1120; }

/* KPI Grid */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  gap: 14px;
  margin-top: 18px;
}

.kpi-card { display:flex; align-items:center; gap:12px; background:var(--summary-card-bg); border:1px solid var(--summary-card-border); border-radius:var(--radiusSm); padding:14px 16px; backdrop-filter:blur(6px); transition:transform .4s ease, box-shadow .4s ease; }
.kpi-card:hover { transform:translateY(-4px); box-shadow:0 12px 28px -12px rgba(var(--accent-rgb),0.45); }

.kpi-left { width:36px; height:36px; display:grid; place-items:center; border-radius:10px; color:#0b1120; background:linear-gradient(135deg,var(--summary-brandA),var(--summary-brandC)); }

.kpi-label { display:block; font-size:0.72rem; color:var(--muted-text); letter-spacing:.5px; font-weight:600; text-transform:uppercase; }
.kpi-value { font-size:1rem; font-weight:600; }

/* ---------------- Highlights ---------------- */
.highlights {
  margin-top: 42px;
}

.highlights h3 { margin:0 0 14px 0; font-size:clamp(1.2rem,2.2vw,1.6rem); letter-spacing:.2px; }

.chip-grids {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 22px;
}

.chip-group { border:1px solid var(--summary-card-border); background:var(--summary-card-bg); border-radius:var(--radius); padding:18px; backdrop-filter:blur(6px); }

.chip-group h4 { margin:0 0 10px 0; font-size:.98rem; }

/* Chip container spacing */
.chip-wrap { display:flex; flex-wrap:wrap; gap:10px; }

.chip { font-size:0.72rem; padding:8px 10px; border-radius:999px; border:1px solid var(--summary-chip-border); background:var(--summary-chip-bg); color:var(--text-color); transition:transform .25s, background .35s, box-shadow .35s; will-change:transform; position:relative; overflow:hidden; }
.chip:hover { transform:translateY(-2px); box-shadow:0 8px 22px -10px rgba(var(--accent-rgb),.45); }
.chip.ghost { background:transparent; }
.chip.tone { background:linear-gradient(135deg, rgba(var(--accent-rgb),0.18), rgba(99,102,241,0.12)); border-color:var(--summary-chip-border); }
html[data-theme='light'] .chip.tone { background:linear-gradient(135deg, rgba(var(--accent-rgb),0.14), rgba(99,102,241,0.10)); }

/* ---------------- Built Strip ---------------- */
.built-strip { margin-top: 38px; }
.built-strip h3 {
  margin: 0 0 12px 0;
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
}

.built-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  gap: 16px;
}

.built-card { border:1px solid var(--summary-card-border); background:var(--summary-surface-grad); padding:16px; border-radius:var(--radiusSm); min-height:120px; position:relative; overflow:hidden; transition:transform .4s ease, box-shadow .4s ease; }
.built-card:hover { transform:translateY(-5px); box-shadow:0 16px 34px -14px rgba(var(--accent-rgb),0.45); }

.built-card .pill { display:inline-block; font-size:0.68rem; padding:6px 10px; background:linear-gradient(135deg,var(--summary-brandA),var(--summary-brandC)); color:#0b1120; border:1px solid rgba(var(--accent-rgb),0.45); border-radius:999px; margin-bottom:10px; font-weight:600; }
html[data-theme='light'] .built-card .pill { color:#fff; }

/* ---------------- Challenges (Accordion) ---------------- */
.challenges { margin-top: 48px; }
.challenges h3 { margin: 0 0 10px 0; }

.acc-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(330px, 1fr));
  gap: 16px;
}

.acc-item { border:1px solid var(--summary-card-border); background:var(--summary-card-bg); border-radius:var(--radiusSm); overflow:hidden; backdrop-filter:blur(6px); }

.acc-trigger { width:100%; text-align:left; background:transparent; border:none; color:var(--text-color); padding:14px 16px; cursor:pointer; display:flex; justify-content:space-between; gap:10px; align-items:center; font-size:0.96rem; font-weight:500; }

.acc-trigger:focus-visible { outline:2px solid var(--accent); outline-offset:-2px; border-radius:var(--radiusSm); }

.acc-title { font-weight: 600; }

.acc-caret {
  transition: transform .2s ease;
  opacity: .8;
}
.acc-caret.open { transform: rotate(180deg); }

.acc-panel { padding:0 16px 14px 16px; color:var(--muted-text); font-size:0.86rem; line-height:1.55; }

/* ---------------- Roadmap ---------------- */
.roadmap { margin-top: 46px; }
.roadmap h3 { margin: 0 0 10px 0; }

.timeline { list-style:none; padding:0; margin:0; border-left:2px dashed var(--summary-card-border); }

.timeline-item {
  position: relative;
  margin-left: 16px;
  padding-left: 16px;
  padding-bottom: 18px;
}

.tl-marker { position:absolute; left:-10px; top:1px; width:14px; height:14px; background:linear-gradient(135deg,var(--summary-brandA),var(--summary-brandB)); border-radius:50%; box-shadow:0 4px 16px rgba(var(--accent-rgb),0.45); }

.tl-title {
  font-size: .95rem;
  margin-bottom: 8px;
}

.tl-bar { position:relative; width:100%; height:8px; border-radius:999px; background:linear-gradient(90deg,rgba(var(--accent-rgb),0.15),rgba(var(--accent-rgb),0.05)); overflow:hidden; border:1px solid var(--summary-card-border); }

.tl-progress { position:absolute; left:0; top:0; height:100%; border-radius:inherit; background:linear-gradient(90deg,var(--summary-brandA),var(--summary-brandC)); box-shadow:0 0 0 1px rgba(var(--accent-rgb),0.4),0 4px 14px -4px rgba(var(--accent-rgb),0.6); }

.foot-note { margin-top:10px; color:var(--muted-text); font-size:0.82rem; }
.muted { color:var(--muted-text); }

/* ---------------- Responsive ---------------- */
@media (max-width: 780px) {
  .summary-page { padding: 110px 20px; }
  .kpi-grid { grid-template-columns: 1fr 1fr; }
  .acc-list { grid-template-columns: 1fr; }
}
